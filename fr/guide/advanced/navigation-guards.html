<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Intercepteurs de navigation | Vue Router</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="../../../logo.png">
    <link rel="apple-touch-icon" href="../../../icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="../../../icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Routeur officiel pour Vue.Js">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <link rel="preload" href="../../../assets/css/0.styles.e04c3417.css" as="style"><link rel="preload" href="../../../assets/js/app.24eec06e.js" as="script"><link rel="preload" href="../../../assets/js/4.6bb460b9.js" as="script"><link rel="preload" href="https://router.vuejs.org/assets/js/3.01d47b46.js" as="script"><link rel="preload" href="../../../assets/js/16.40a254ad.js" as="script"><link rel="preload" href="../../../assets/js/5.877358b3.js" as="script"><link rel="prefetch" href="../../../assets/js/10.abeab90b.js"><link rel="prefetch" href="../../../assets/js/100.6a61bd7a.js"><link rel="prefetch" href="../../../assets/js/101.7763f187.js"><link rel="prefetch" href="../../../assets/js/102.67a2744d.js"><link rel="prefetch" href="../../../assets/js/103.6c022d4e.js"><link rel="prefetch" href="https://router.vuejs.org/assets/js/104.31e5e592.js"><link rel="prefetch" href="../../../assets/js/105.a60a35c5.js"><link rel="prefetch" href="../../../assets/js/106.7afff6d8.js"><link rel="prefetch" href="../../../assets/js/107.d6bababd.js"><link rel="prefetch" href="../../../assets/js/108.fdcb4e4f.js"><link rel="prefetch" href="../../../assets/js/109.6cced847.js"><link rel="prefetch" href="../../../assets/js/11.25966789.js"><link rel="prefetch" href="../../../assets/js/110.f936a482.js"><link rel="prefetch" href="../../../assets/js/111.dc6c3b7b.js"><link rel="prefetch" href="../../../assets/js/112.2939944b.js"><link rel="prefetch" href="../../../assets/js/113.b52e80ef.js"><link rel="prefetch" href="../../../assets/js/114.6992cb9f.js"><link rel="prefetch" href="../../../assets/js/115.fd644ca3.js"><link rel="prefetch" href="../../../assets/js/116.71aafa19.js"><link rel="prefetch" href="../../../assets/js/117.79903cdd.js"><link rel="prefetch" href="../../../assets/js/118.2d5f2237.js"><link rel="prefetch" href="../../../assets/js/119.f95f8dd9.js"><link rel="prefetch" href="../../../assets/js/12.bd4c3ca8.js"><link rel="prefetch" href="../../../assets/js/13.91b24524.js"><link rel="prefetch" href="../../../assets/js/14.4c4f61f0.js"><link rel="prefetch" href="../../../assets/js/15.32064ec4.js"><link rel="prefetch" href="../../../assets/js/17.8ce840e8.js"><link rel="prefetch" href="../../../assets/js/18.39834e88.js"><link rel="prefetch" href="../../../assets/js/19.c2920ad1.js"><link rel="prefetch" href="../../../assets/js/20.0b307904.js"><link rel="prefetch" href="../../../assets/js/21.60983cc3.js"><link rel="prefetch" href="../../../assets/js/22.503ed0ef.js"><link rel="prefetch" href="../../../assets/js/23.38ae2a2f.js"><link rel="prefetch" href="../../../assets/js/24.1d591710.js"><link rel="prefetch" href="../../../assets/js/25.401de978.js"><link rel="prefetch" href="../../../assets/js/26.31e2659a.js"><link rel="prefetch" href="../../../assets/js/27.3d1fdf7e.js"><link rel="prefetch" href="../../../assets/js/28.b2d48678.js"><link rel="prefetch" href="../../../assets/js/29.bc39dee3.js"><link rel="prefetch" href="../../../assets/js/30.b7339f4a.js"><link rel="prefetch" href="../../../assets/js/31.e7108fae.js"><link rel="prefetch" href="../../../assets/js/32.1771a675.js"><link rel="prefetch" href="../../../assets/js/33.09f98cb0.js"><link rel="prefetch" href="../../../assets/js/34.279f08d9.js"><link rel="prefetch" href="../../../assets/js/35.550496c4.js"><link rel="prefetch" href="../../../assets/js/36.4a3b01ed.js"><link rel="prefetch" href="../../../assets/js/37.38a7151b.js"><link rel="prefetch" href="../../../assets/js/38.e4feaae7.js"><link rel="prefetch" href="../../../assets/js/39.4b840008.js"><link rel="prefetch" href="../../../assets/js/40.acc3f905.js"><link rel="prefetch" href="../../../assets/js/41.fdda8361.js"><link rel="prefetch" href="../../../assets/js/42.da4b6e19.js"><link rel="prefetch" href="../../../assets/js/43.5a9f97a4.js"><link rel="prefetch" href="../../../assets/js/44.4e7781ce.js"><link rel="prefetch" href="../../../assets/js/45.ca70973e.js"><link rel="prefetch" href="../../../assets/js/46.f96b983f.js"><link rel="prefetch" href="../../../assets/js/47.65086d43.js"><link rel="prefetch" href="../../../assets/js/48.c045280a.js"><link rel="prefetch" href="../../../assets/js/49.fc99437d.js"><link rel="prefetch" href="../../../assets/js/50.0bb411e9.js"><link rel="prefetch" href="../../../assets/js/51.58723210.js"><link rel="prefetch" href="../../../assets/js/52.3cc3d20a.js"><link rel="prefetch" href="../../../assets/js/53.3ec4852f.js"><link rel="prefetch" href="../../../assets/js/54.a95a695d.js"><link rel="prefetch" href="../../../assets/js/55.563f16ee.js"><link rel="prefetch" href="../../../assets/js/56.17653afe.js"><link rel="prefetch" href="../../../assets/js/57.3bc52d5e.js"><link rel="prefetch" href="../../../assets/js/58.6b9ad851.js"><link rel="prefetch" href="../../../assets/js/59.fa48cc26.js"><link rel="prefetch" href="../../../assets/js/6.80512080.js"><link rel="prefetch" href="../../../assets/js/60.8dee9ab0.js"><link rel="prefetch" href="../../../assets/js/61.aff1ee78.js"><link rel="prefetch" href="../../../assets/js/62.33ebb0df.js"><link rel="prefetch" href="../../../assets/js/63.407aa1e2.js"><link rel="prefetch" href="../../../assets/js/64.e716b4de.js"><link rel="prefetch" href="../../../assets/js/65.8d51f597.js"><link rel="prefetch" href="../../../assets/js/66.49fcfbd5.js"><link rel="prefetch" href="../../../assets/js/67.ff095fe8.js"><link rel="prefetch" href="../../../assets/js/68.7677ec61.js"><link rel="prefetch" href="../../../assets/js/69.82f36569.js"><link rel="prefetch" href="../../../assets/js/7.fae801d8.js"><link rel="prefetch" href="../../../assets/js/70.7e130f79.js"><link rel="prefetch" href="../../../assets/js/71.ada5ef33.js"><link rel="prefetch" href="../../../assets/js/72.ba8ff843.js"><link rel="prefetch" href="../../../assets/js/73.6da61794.js"><link rel="prefetch" href="../../../assets/js/74.20c0accb.js"><link rel="prefetch" href="../../../assets/js/75.6cc029df.js"><link rel="prefetch" href="../../../assets/js/76.80a8826d.js"><link rel="prefetch" href="../../../assets/js/77.912390c1.js"><link rel="prefetch" href="../../../assets/js/78.ac02dd29.js"><link rel="prefetch" href="../../../assets/js/79.d06ef44a.js"><link rel="prefetch" href="../../../assets/js/8.29845f7e.js"><link rel="prefetch" href="../../../assets/js/80.7b6c8c70.js"><link rel="prefetch" href="../../../assets/js/81.ea3cc482.js"><link rel="prefetch" href="../../../assets/js/82.6f3bae4e.js"><link rel="prefetch" href="../../../assets/js/83.b9a40a15.js"><link rel="prefetch" href="../../../assets/js/84.c5c8c4e5.js"><link rel="prefetch" href="../../../assets/js/85.539a22e4.js"><link rel="prefetch" href="../../../assets/js/86.b0f801fc.js"><link rel="prefetch" href="../../../assets/js/87.65bb3c58.js"><link rel="prefetch" href="../../../assets/js/88.35aeab4c.js"><link rel="prefetch" href="../../../assets/js/89.d5c78c90.js"><link rel="prefetch" href="../../../assets/js/9.b8929220.js"><link rel="prefetch" href="../../../assets/js/90.f41b012f.js"><link rel="prefetch" href="../../../assets/js/91.1c509175.js"><link rel="prefetch" href="../../../assets/js/92.a1405064.js"><link rel="prefetch" href="../../../assets/js/93.93a054f7.js"><link rel="prefetch" href="../../../assets/js/94.e0efeadf.js"><link rel="prefetch" href="../../../assets/js/95.9520ac4b.js"><link rel="prefetch" href="../../../assets/js/96.e76b746c.js"><link rel="prefetch" href="../../../assets/js/97.5fd06255.js"><link rel="prefetch" href="../../../assets/js/98.2f659b92.js"><link rel="prefetch" href="../../../assets/js/99.1401d07c.js"><link rel="prefetch" href="../../../assets/js/vendors~docsearch.065613ad.js">
    <link rel="stylesheet" href="../../../assets/css/0.styles.e04c3417.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="../../index.html" class="home-link router-link-active"><!----> <span class="site-name">Vue Router</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="../index.html" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="../../api/index.html" class="nav-link">
  API
</a></div><div class="nav-item"><a href="https://github.com/vuejs/vue-router/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Notes de version
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Langues</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="../../../guide/advanced/navigation-guards.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="../../../zh/guide/advanced/navigation-guards.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="../../../ja/guide/advanced/navigation-guards.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="../../../ru/guide/advanced/navigation-guards.html" class="nav-link">
  Русский
</a></li><li class="dropdown-item"><!----> <a href="../../../kr/guide/advanced/navigation-guards.html" class="nav-link">
  한국어
</a></li><li class="dropdown-item"><!----> <a href="navigation-guards.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Français
</a></li></ul></div></div> <a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="../index.html" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="../../api/index.html" class="nav-link">
  API
</a></div><div class="nav-item"><a href="https://github.com/vuejs/vue-router/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Notes de version
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Langues</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="../../../guide/advanced/navigation-guards.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="../../../zh/guide/advanced/navigation-guards.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="../../../ja/guide/advanced/navigation-guards.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="../../../ru/guide/advanced/navigation-guards.html" class="nav-link">
  Русский
</a></li><li class="dropdown-item"><!----> <a href="../../../kr/guide/advanced/navigation-guards.html" class="nav-link">
  한국어
</a></li><li class="dropdown-item"><!----> <a href="navigation-guards.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Français
</a></li></ul></div></div> <a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="carbon-ads"></div> <ul class="sidebar-links"><li><a href="../../installation.html" class="sidebar-link">Installation</a></li><li><a href="../../index.html" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Essentiels</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="../index.html" aria-current="page" class="sidebar-link">Pour commencer</a></li><li><a href="../essentials/dynamic-matching.html" class="sidebar-link">Concordance dynamique de route</a></li><li><a href="../essentials/nested-routes.html" class="sidebar-link">Routes imbriquées</a></li><li><a href="../essentials/navigation.html" class="sidebar-link">Navigation programmatique</a></li><li><a href="../essentials/named-routes.html" class="sidebar-link">Routes nommées</a></li><li><a href="../essentials/named-views.html" class="sidebar-link">Vues nommées</a></li><li><a href="../essentials/redirect-and-alias.html" class="sidebar-link">Redirection et alias</a></li><li><a href="../essentials/passing-props.html" class="sidebar-link">Passage de props aux composants de route</a></li><li><a href="../essentials/history-mode.html" class="sidebar-link">Mode historique de HTML5</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Avancés</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="navigation-guards.html" aria-current="page" class="active sidebar-link">Intercepteurs de navigation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="#interception-globale" class="sidebar-link">Interception globale</a></li><li class="sidebar-sub-header"><a href="#resolutions-des-interceptions-globales" class="sidebar-link">Résolutions des interceptions globales</a></li><li class="sidebar-sub-header"><a href="#hooks-de-sortie-globaux" class="sidebar-link">Hooks de sortie globaux</a></li><li class="sidebar-sub-header"><a href="#interception-par-route" class="sidebar-link">Interception par route</a></li><li class="sidebar-sub-header"><a href="#interception-par-composant" class="sidebar-link">Interception par composant</a></li><li class="sidebar-sub-header"><a href="#le-flux-de-resolution-de-navigation-complet" class="sidebar-link">Le flux de résolution de navigation complet</a></li></ul></li><li><a href="meta.html" class="sidebar-link">Champs meta de route</a></li><li><a href="transitions.html" class="sidebar-link">Transitions</a></li><li><a href="data-fetching.html" class="sidebar-link">Récupération de données</a></li><li><a href="scroll-behavior.html" class="sidebar-link">Comportement du défilement</a></li><li><a href="lazy-loading.html" class="sidebar-link">Chargement à la volée</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="intercepteurs-de-navigation"><a href="#intercepteurs-de-navigation" aria-hidden="true" class="header-anchor">#</a> Intercepteurs de navigation</h1> <p>Comme le nom le suggère, l'interception de navigation fournie par <code>vue-router</code> est principalement utilisée pour intercepter la navigation avec des redirections ou des annulations d'accès. Il y a plusieurs hooks disponibles lors du processus de navigation : globaux, par route ou par composant.</p> <p>Souvenez-vous de cela : <strong>le changement de paramètre ou de query ne va pas lancer d'interception d'entrée ou de sortie de navigation</strong>. Vous pouvez toujours <a href="../essentials/dynamic-matching.html#reacting-to-params-changes">observer l'objet <code>$route</code></a> pour réagir à ces changements, ou utiliser la fonction <code>beforeRouteUpdate</code> d'une interception par composant.</p> <h2 id="interception-globale"><a href="#interception-globale" aria-hidden="true" class="header-anchor">#</a> Interception globale</h2> <p>Vous pouvez abonner une interception d'entrée en utilisant <code>router.beforeEach</code> :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Les interceptions d'entrées globales sont appelées lors de l'ordre de création, chaque fois qu'une navigation est déclenchée. Les interceptions peuvent être résolues de manière asynchrone, et la navigation est considérée comme <strong>en attente</strong> avant que tous les hooks ne soient résolus.</p> <p>Chaque fonction d'interception reçoit trois arguments :</p> <ul><li><p><strong><code>to: Route</code></strong>: L'<a href="../../api/index.html#the-route-object">objet <code>Route</code></a> cible vers lequel on navigue.</p></li> <li><p><strong><code>from: Route</code></strong>: la route courante depuis laquelle nous venons de naviguer.</p></li> <li><p><strong><code>next: Function</code></strong>: cette fonction doit être appelée pour <strong>résoudre</strong> le hook. L'action dépend des arguments fournis à <code>next</code>:</p> <ul><li><p><strong><code>next()</code></strong>: se déplacer jusqu'au prochain hook du workflow. S'il ne reste aucun hook, la navigation est <strong>confirmée</strong>.</p></li> <li><p><strong><code>next(false)</code></strong>: annuler la navigation courante. Si l'URL du navigateur avait changé (manuellement par l'utilisateur ou via le bouton retour du navigateur), il sera remis à sa valeur de route de <code>from</code>.</p></li> <li><p><strong><code>next('/')</code> ou <code>next({ path: '/' })</code></strong>: redirige vers le nouvel URL. La navigation courante va être arrêtée et une nouvelle va se lancer. Vous pouvez passer n'importe quel objet à <code>next</code>, vous permettant ainsi de spécifier des options comme <code>replace: true</code>, <code>name: 'home'</code> et n'importe quelles options dans <a href="../../api/index.html#to">la prop <code>to</code> du <code>router-link</code></a> ou <a href="../../api/index.html#routeur-push"><code>router.push</code></a>.</p></li> <li><p><strong><code>next(error)</code></strong>: (2.4.0+) si l'argument passé à <code>next</code> est une instance de <code>Error</code>, la navigation va s'arrêter et l'erreur sera passée aux fonctions de rappel enregistrées via <a href="../../api/index.html#router-onerror"><code>router.onError()</code></a>.</p></li></ul></li></ul> <p><strong>Assurez-vous de toujours appeler la fonction <code>next</code>, sinon le hook ne sera jamais résolu.</strong></p> <h2 id="resolutions-des-interceptions-globales"><a href="#resolutions-des-interceptions-globales" aria-hidden="true" class="header-anchor">#</a> Résolutions des interceptions globales</h2> <p>Vous pouvez abonner une interception globale avec <code>router.beforeResolve</code>. Ceci est similaire a <code>router.beforeEach</code>, mais la différence est qu'elle sera appelée juste après que la navigation soit confirmée, <strong>après que toutes les interceptions par composants et les composants de route asynchrone ait été résolu</strong>.</p> <h2 id="hooks-de-sortie-globaux"><a href="#hooks-de-sortie-globaux" aria-hidden="true" class="header-anchor">#</a> Hooks de sortie globaux</h2> <p>Vous pouvez également abonner des hooks de sortie, cependant, à la différence des interceptions, ces hooks ne fournissent pas de fonction <code>next</code> et n'affecte pas la navigation :</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="interception-par-route"><a href="#interception-par-route" aria-hidden="true" class="header-anchor">#</a> Interception par route</h2> <p>Vous pouvez définir l'interception <code>beforeEnter</code> directement sur l'objet de configuration d'une route :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Foo<span class="token punctuation">,</span>
      <span class="token function-variable function">beforeEnter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Ces interceptions ont exactement le même effet que les interceptions globales d'entrée.</p> <h2 id="interception-par-composant"><a href="#interception-par-composant" aria-hidden="true" class="header-anchor">#</a> Interception par composant</h2> <p>Enfin, vous pouvez directement définir une interception de navigation a l'intérieur du composant lui-même (celui passé à la configuration du routeur) avec les options suivantes :</p> <ul><li><code>beforeRouteEnter</code></li> <li><code>beforeRouteUpdate</code></li> <li><code>beforeRouteLeave</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// appelée avant que la route vers le composant soit confirmée.</span>
    <span class="token comment">// cette fonction n'a pas accès à l'instance du composant avec `this`,</span>
    <span class="token comment">// car le composant n'a pas encore été créé quand cette interception est appelée !</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// appelée quand la route qui fait le rendu de ce composant change,</span>
    <span class="token comment">// mais que ce composant est utilisé de nouveau dans la nouvelle route.</span>
    <span class="token comment">// Par exemple, pour une route avec le paramètre dynamique `/foo/:id`, quand nous</span>
    <span class="token comment">// naviguons entre `/foo/1` et `/foo/2`, la même instance du composant `Foo`</span>
    <span class="token comment">// va être réutilisée, et ce hook va être appelé quand cela arrivera.</span>
    <span class="token comment">// ce hook a accès à l'instance de ce composant via `this`.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// appelée quand la route qui fait le rendu de ce composant est sur le point</span>
    <span class="token comment">// d'être laissée en faveur de la prochaine route.</span>
    <span class="token comment">// elle a accès à l'instance de ce composant via `this`.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>L'interception <code>beforeRouteEnter</code> **n'**a <strong>PAS</strong> accès à <code>this</code>, car l'interception est appelée avant que la navigation soit confirmée, et le nouveau composant entrant n'a même pas encore été créé.</p> <p>Cependant, vous pouvez accéder à l'instance en passant dans la fonction de rappel <code>next</code>. Cette fonction de rappel va être appelée quand la navigation sera confirmée, et l'instance du composant sera passée à la fonction de rappel en tant qu'argument :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// accès à l'instance du composant via `vm`</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Notez que <code>beforeRouteEnter</code> est la seule interception qui supporte une fonction de rappelle dans <code>next</code>. Pour <code>beforeRouteUpdate</code> et <code>beforeRouteLeave</code>, <code>this</code> est déjà disponible. Le passage d'une fonction de rappel n'étant pas nécessaire, il n'est donc pas <em>supporté</em> :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">beforeRouteUpdate</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// utiliser juste `this`</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>name
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>L'<strong>interception de sortie</strong> est habituellement utilisée pour empécher l'utilisateur de quitter la route sans avoir sauvegardé ses changements. La navigation peut être annulée en appelant <code>next(false)</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span> <span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> answer <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Voulez-vous vraiment quitter cette page ? Vos changements seront perdus.'</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>answer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="le-flux-de-resolution-de-navigation-complet"><a href="#le-flux-de-resolution-de-navigation-complet" aria-hidden="true" class="header-anchor">#</a> Le flux de résolution de navigation complet</h2> <ol><li>La navigation est demandée.</li> <li>Appel de l'interception de sortie des composants désactivés.</li> <li>Appel des interceptions globales <code>beforeEach</code>.</li> <li>Appel des interceptions <code>beforeRouteUpdate</code> pour les composants réutilisés.</li> <li>Appel de <code>beforeEnter</code> dans la configuration de route.</li> <li>Résolution des composants de route asynchrones.</li> <li>Appel de <code>beforeRouteEnter</code> dans les composants activés.</li> <li>Appel des interceptions <code>beforeResolve</code>.</li> <li>Confirmation de la navigation.</li> <li>Appel des hooks globaux <code>afterEach</code>.</li> <li>Modification du DOM demandée.</li> <li>Appel des fonctions de rappel passées à <code>next</code> dans l'interception <code>beforeRouteEnter</code> avec l'instance instanciée.</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="../essentials/history-mode.html" class="prev">
        Mode historique de HTML5
      </a></span> <span class="next"><a href="meta.html">
        Champs meta de route
      </a>
      →
    </span></p></div> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></main></div><div class="global-ui"><!----></div></div>
    <script src="../../../assets/js/app.24eec06e.js" defer></script><script src="../../../assets/js/4.6bb460b9.js" defer></script><script src="https://router.vuejs.org/assets/js/3.01d47b46.js" defer></script><script src="../../../assets/js/16.40a254ad.js" defer></script><script src="../../../assets/js/5.877358b3.js" defer></script>
  </body>
</html>
